---
title: "Git basic"
metaTitle: "Syntax Highlighting is the meta title tag for this page"
metaDescription: "This is the meta description for this page"
---

## Basic knowledge

### Global Settings
- Related Setup: https://gist.github.com/hofmannsven/6814278
- Related Pro Tips: https://ochronus.com/git-tips-from-the-trenches/
- Interactive Beginners Tutorial: http://try.github.io/
- Git Cheatsheet by GitHub: https://services.github.com/on-demand/downloads/github-git-cheat-sheet/
- Git workflow: https://www.atlassian.com/git/tutorials/comparing-workflows/gitflow-workflow

### What is references?

If you were interested in seeing the history of your repository reachable from commit, say, 1a410e, you could run something like git log 1a410e to display that history, but you would still have to remember that 1a410e is the commit you want to use as the starting point for that history. Instead, it would be easier if you had a file in which you could store that SHA-1 value under a simple name so you could use that simple name rather than the raw SHA-1 value.

In Git, these simple names are called “references” or “refs”; you can find the files that contain those SHA-1 values in the .git/refs directory.

```bash
## Fake SHA-1 btw...
git show-ref
da39a3ee5e6b4b0d3255bfef95601890afd80709 refs/heads/master
da39a3ee5e6b4b0d3255bfef95601890afd12342 refs/heads/sai
da39a3ee5e6b4b0d3255bfef95601890afd12333 refs/remotes/origin/HEAD
da39a3ee5e6b4b0d3255bfef95601890afd12319 refs/remotes/origin/master
da39a3ee5e6b4b0d3255bfef95601890afd42343 refs/remotes/origin/mateusz
da39a3ee5e6b4b0d3255bfef95601890afd12312 refs/remotes/origin/sai
```

### Gitignore & Gitkeep
About: https://help.github.com/articles/ignoring-files

Useful templates: https://github.com/github/gitignore

Add or edit gitignore:
`nano .gitignore`

Track empty dir:
`touch dir/.gitkeep`


### Ancestry reference - Relative Commit References
You may know that you can reference commits by their SHA, by tags, branches, and the special HEAD pointer. Sometimes that's not enough, though. There will be times when you'll want to reference a commit relative to another commit. For example, there will be times where you'll want to tell Git about the commit that's one before the current commit...or two before the current commit. There are special characters called "Ancestry References" that we can use to tell Git about these relative references. Those characters are:
^ – indicates the other parents (^2, for example, for a merge).
~ – indicates the first parent commit

- Here's how we can refer to previous commits:
the parent commit – the following indicate the parent commit of the current commit
  - HEAD^
  - HEAD~
  - HEAD~1
- the grandparent commit – the following indicate the grandparent commit of the current commit
  - HEAD^^
  - HEAD~2
- the great-grandparent commit – the following indicate the great-grandparent commit of the current commit
  - HEAD^^^
  - HEAD~3

The main difference between the ^ and the ~ is when a commit is created from a merge. A merge commit has two parents. With a merge commit, the ^ reference is used to indicate the first parent of the commit while ^2 indicates the second parent. The first parent is the branch you were on when you ran git merge while the second parent is the branch that was merged in. (Sai:  first parent 等於你做merge 技branch)

### Merge Conflict Indicators Explanation
![streams](/img/web-development/version-control/merge_conflict.gif)

source: Udacity - Version control with Git

The editor has the following merge conflict indicators:

`<<<<<<< HEAD`: everything below this line (until the next indicator) shows you what's on the current branch

`||||||| merged`: common ancestors everything below this line (until the next indicator) shows you what the original lines were

`=======`: is the end of the original lines, everything that follows (until the next indicator) is what's on the branch that's being merged in

`>>>>>>> heading-update` is the ending indicator of what's on the branch that's being merged in (in this case, the heading-update branch)

### Setup
See where Git is located:
`which git`

Get the version of Git:
`git --version`

Return current Git status of working directory :
`git status`

Create an alias (shortcut) for `git status`:
`git config --global alias.st status`



## General
Initialize Git:
`git init`

Get everything ready to commit:
`git add .`

Get custom file ready to commit:
`git add index.html`

Commit changes:
`git commit -m "Message"`

Commit changes with title and description:
`git commit -m "Title" -m "Description..."`

Add and commit in one step:
`git commit -am "Message"`

Update all changes:
`git add -u`

Tell Git not to track a file/files (The inverse of the git add command):
`git rm index.html`

Remove file but do not track anymore:
`git rm --cached index.html`

Move or rename files:
`git mv index.html dir/index_new.html`

Undo modifications (restore files from latest commited version):
The -- is a way to tell Git to treat what follows checkout as a file and not as a branch.
`git checkout -- <file-name>`

Restore file from a custom commit (in current branch):
`git checkout 6eb715d -- index.html`


## Log
Show commits:
`git log`

Show changes:
`git log -p`

**[helpful]** Show  the actual changes made to files and things that have been changed in the commit:
`git log -p --stat`

Show stats and summary of commits:
`git log --stat --summary`

Show history of commits as graph:
`git log --graph`

Show oneline-summary of commits:
`git log --oneline`

**[helpful]** Show history of commits as graph-summary:
`git log --oneline --graph --all --decorate`

Show oneline-summary of the last three commits:
`git log --oneline -3`

Show only custom commits:
`git log --author="Sven"`
`git log --grep="Message"`
`git log --until=2013-01-01`
`git log --since=2013-01-01`

Show only custom data of commit:
`git log --format=short`
`git log --format=full`
`git log --format=fuller`
`git log --format=email`
`git log --format=raw`

Show every commit since special commit for custom file only:
`git log 6eb715d.. index.html`

Show changes of every commit since special commit for custom file only:
`git log -p 6eb715d.. index.html`

 Show commits each contributor has added to the repository:
`git shortlog`


## Compare
```shell
# Compare modified files:
git diff

# Compare modified files and highlight changes only:
git diff --color-words index.html

# Compare modified files within the staging area:
git diff --staged

# Compare branches:
git diff master..branchname

# Compare branches like above:
git diff --color-words master..branchname^

# Compare commits:
git diff 6eb715d
git diff 6eb715d..HEAD
git diff 6eb715d..537a09f

# Compare commits of file:
git diff 6eb715d index.html
git diff 6eb715d..537a09f index.html

# Compare without caring about spaces:
git diff -b 6eb715d..HEAD or:
git diff --ignore-space-change 6eb715d..HEAD

# Compare without caring about all spaces:
git diff -w 6eb715d..HEAD
git diff --ignore-all-space 6eb715d..HEAD

# Useful comparings:
git diff --stat --summary 6eb715d..HEAD
```


## Releases & Version Tags
Tagging is generally used to capture a point in history that is used for a marked version release (i.e. v1.0.1). A tag is like a branch that doesn’t change. Unlike branches, tags, after being created, have no further history of commits.

```shell
# Show all released versions:
git tag

# Show all released versions with comments:
git tag -l -n1

# Create release version:
git tag v1.0.0

# **[helpful]** Create release version with comment:
git tag -a v1.0.0 -m 'Message'

# Checkout a specific release version:
git checkout v1.0.0
```

## Branch
Git branches are effectively a pointer to a snapshot of your changes. When you want to add a new feature or fix a bug—no matter how big or how small—you spawn a new branch to encapsulate your changes. This makes it harder for unstable code to get merged into the main code base, and it gives you the chance to clean up your future's history before merging it into the main branch.

```shell
# Show branches:
git branch

# Create branch:
git branch branchname

# Create branch on specific commit:
git branch branchname a_commit_SHA

# Change to branch:
git checkout branchname

# Create and change to new branch:
git checkout -b branchname

# Rename branch:
git branch -m branchname new_branchname` 

# Show all completely merged branches with current branch:
git branch --merged

# Delete merged branch (only possible if not HEAD):
git branch -d branchname 

# Delete not merged branch:
git branch -D branch_to_delete
```


### Merge
```shell
git merge branchname

# Merge to master (only if fast forward):
git merge --ff-only branchname

Merge to master (force a new commit):
git merge --no-ff branchname

Stop merge (in case of conflicts):
git merge --abort

Undo local merge that hasn't been pushed yet:
git reset --hard origin/master

Merge only one specific commit:
git cherry-pick 073791e7
```