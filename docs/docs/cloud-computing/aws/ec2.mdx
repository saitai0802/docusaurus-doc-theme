---
title: EC2, ASG, EBS
description: EC2, ASG, EBS
keywords:
  - EC2
  - ASG
  - EBS
---

## Spot Instance Interruption behaviors 

You can specify that Amazon EC2 should do one of the following when it interrupts a Spot Instance:

- Stop the Spot Instance
- Hibernate the Spot Instance
- Terminate the Spot Instance (default behavoir)


## Zonal Reserved EC2 Instance

The ability to create and manage **Capacity Reservations** independently from the billing discounts offered by Savings Plans or regional Reserved Instances.

When you purchase a Reserved Instance, you determine the scope of the Reserved Instance. The scope is either regional or zonal.

- Regional: When you purchase a Reserved Instance for a Region, it's referred to as a regional Reserved Instance. **It does not reserve capacity.**
- Zonal: When you purchase a Reserved Instance for a specific Availability Zone, it's referred to as a zonal Reserved Instance. **It reserves capacity.**

By creating Capacity Reservations, you ensure that you always have access to EC2 capacity when you need it, for as long as you need it. [Link](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-capacity-reservations.html)

## Auto Scaling

### EC2 Auto Scaling cannot add a volume 

Amazon EC2 Auto Scaling cannot add a volume (Volumne = EBS volume) to an existing instance if the existing volume is approaching capacity

A volume is attached to a new instance when it is added. Amazon EC2 Auto Scaling doesn't automatically add a volume when the existing one is approaching capacity. You can use the EC2 API to add a volume to an existing instance.


### EC2 Auto Scaling works with both ALB and NLB

Amazon EC2 Auto Scaling works with Application Load Balancers and Network Load Balancers including their health check feature.

### ASG terminates unhealthy EC2 instance

To maintain the same number of instances, Amazon EC2 Auto Scaling performs a periodic health check on running instances within an Auto Scaling group. When it finds that an instance is unhealthy, it terminates that instance and launches a new one. 

Amazon EC2 Auto Scaling creates a new scaling activity for terminating the unhealthy instance and then terminates it. Later, another scaling activity launches a new instance to replace the terminated instance.

### ASG Target Tracking Scaling Policy

- ASGAverageNetworkOut -  This represents the Average number of bytes sent out on all network interfaces by the Auto Scaling group. 
- ALBRequestCountPerTarget
- ASGAverageCPUUtilization

## EBS

### EBS volumes are AZ locked
When you create an EBS volume, it is automatically replicated within its Availability Zone to prevent data loss due to the failure of any single hardware component. *You can attach an EBS volume to an EC2 instance in the **same Availability Zone** *.

### Update DeleteOnTermination

How to update 'DeleteOnTermination' attribute set to True for an EC2 instanceâ€™ root EBS volume?

1. Set the DeleteOnTermination attribute to False using the command line
2. When an instance terminates, the value of the DeleteOnTermination attribute for each attached EBS volume determines whether to preserve or delete the volume. By default, the DeleteOnTermination attribute is set to True for the root volume and is set to False for all other volume types.

### Using a single SSH key pair for all EC2 instances in all AWS Regions

1. Generate a public SSH key (.pub) file from the private SSH key (.pem) file.
2. Set the AWS Region you wish to import to.
3. Import the public SSH key into the new Region.

[https://aws.amazon.com/premiumsupport/knowledge-center/ec2-ssh-key-pair-regions/](https://aws.amazon.com/premiumsupport/knowledge-center/ec2-ssh-key-pair-regions/)


